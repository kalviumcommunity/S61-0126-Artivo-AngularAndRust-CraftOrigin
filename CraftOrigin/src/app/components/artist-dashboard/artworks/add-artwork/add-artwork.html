<div class="max-w-3xl mx-auto">
  <div class="flex items-center justify-between mb-8">
    <h1 class="text-2xl font-bold text-gray-900">Add New Artwork</h1>
    <button (click)="cancel()" class="text-gray-500 hover:text-gray-700">
      <i class="fa-solid fa-xmark text-2xl"></i>
    </button>
  </div>

  <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 md:p-8">
    <form (ngSubmit)="onSubmit()" class="space-y-6">
      
      <!-- Image Upload -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Artwork Image</label>
        <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:bg-gray-50 transition-colors"
             [ngClass]="{'border-orange-500 bg-orange-50': imagePreview}">
          
          <input type="file" (change)="onFileSelected($event)" accept="image/*" class="hidden" id="artwork-image">
          
          <label for="artwork-image" class="cursor-pointer flex flex-col items-center justify-center w-full h-full">
            <div *ngIf="!imagePreview" class="flex flex-col items-center">
              <i class="fa-solid fa-image text-4xl text-gray-400 mb-2"></i>
              <span class="text-sm font-medium text-gray-600">Click to upload image</span>
              <span class="text-xs text-gray-400 mt-1">JPG, PNG up to 5MB</span>
            </div>
            
            <div *ngIf="imagePreview" class="relative w-full max-w-sm">
              <img [src]="imagePreview" class="rounded-lg shadow-md max-h-64 mx-auto">
              <div class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-0 hover:bg-opacity-30 transition-opacity rounded-lg group">
                <span class="text-white opacity-0 group-hover:opacity-100 font-medium">Change Image</span>
              </div>
            </div>
          </label>
        </div>
      </div>

      <!-- Basic Info -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="md:col-span-2">
          <label class="block text-sm font-medium text-gray-700 mb-2">Title</label>
          <input type="text" [(ngModel)]="formData.title" name="title" required
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
            placeholder="e.g. Sunset over Jaipur">
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Category</label>
          <select [(ngModel)]="formData.category" name="category" required
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
            <option value="">Select Category</option>
            <option *ngFor="let cat of categories" [value]="cat">{{cat}}</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Price (â‚¹)</label>
          <input type="number" [(ngModel)]="formData.price" name="price" required min="0"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
            placeholder="0.00">
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Quantity</label>
          <input type="number" [(ngModel)]="formData.quantity" name="quantity" required min="1"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
            placeholder="1">
        </div>
      </div>

      <!-- Description -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
        <textarea [(ngModel)]="formData.description" name="description" required rows="4"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
          placeholder="Describe your artwork, materials used, inspiration..."></textarea>
      </div>

      <!-- Actions -->
      <div class="flex justify-end space-x-4 pt-4 border-t border-gray-100">
        <button type="button" (click)="cancel()" class="px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium">
          Cancel
        </button>
        <button type="submit" [disabled]="!isValid() || isSubmitting"
          class="px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center">
          <i *ngIf="isSubmitting" class="fa-solid fa-spinner fa-spin text-base mr-2"></i>
          {{ isSubmitting ? 'Creating...' : 'Create Artwork' }}
        </button>
      </div>

    </form>
  </div>
</div>
