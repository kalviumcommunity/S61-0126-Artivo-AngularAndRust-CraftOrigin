<nav class="fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between h-16 lg:h-20">
  
        <!-- Logo -->
        <a href="/" class="flex items-center gap-2">
          <div class="w-10 h-10 rounded-full bg-primary flex items-center justify-center">
            <span class="text-primary-foreground font-display text-lg font-bold">CO</span>
          </div>
          <span class="font-display text-xl lg:text-2xl font-semibold text-foreground">
            CraftOrigin
          </span>
        </a>
  
        <!-- Desktop Navigation -->
        <div class="hidden lg:flex items-center gap-8">
          <a (click)="navigateToHome()" class="text-muted-foreground hover:text-foreground font-medium cursor-pointer">Home</a>
          <a (click)="scrollToSection('featuredArtists')" class="text-muted-foreground hover:text-foreground font-medium cursor-pointer">Artists</a>
          <a (click)="scrollToSection('featuredArtWorks')" class="text-muted-foreground hover:text-foreground font-medium cursor-pointer">Explore Art</a>
          <a (click)="scrollToSection('howItWorks')" class="text-muted-foreground hover:text-foreground font-medium cursor-pointer">How It Works</a>
          <a (click)="navigateToAbout()" class="text-muted-foreground hover:text-foreground font-medium cursor-pointer">About</a>
        </div>
  
        <!-- Desktop Actions -->
        <div class="hidden lg:flex items-center gap-3">
          <button class="p-2">
            <!-- <lucide-icon name="search" class="w-5 h-5"></lucide-icon> -->
          </button>
  
          <button class="p-2">
            <!-- <lucide-icon name="shopping-bag" class="w-5 h-5"></lucide-icon> -->
          </button>
  
          <button class="border px-3 py-1.5 rounded-md flex items-center gap-2 text-sm" (click)="openAuthModal('signin')">
            Sign In
          </button>
          <button (click)="navigateToSellArt()" class="bg-primary text-primary-foreground px-4 py-1.5 rounded-md text-sm cursor-pointer">
            Sell Art
          </button>
        </div>
  
        <!-- Mobile Menu Toggle -->
        <button class="lg:hidden p-2" (click)="toggleMenu()">
          <!-- <lucide-icon [name]="isOpen ? 'x' : 'menu'" class="w-6 h-6"></lucide-icon> -->
        </button>
      </div>
  
      <!-- Mobile Menu -->
      <div *ngIf="isOpen" class="lg:hidden py-4 border-t border-border">
        <div class="flex flex-col gap-4">
          <a (click)="navigateToHome()" class="font-medium py-2 cursor-pointer">Home</a>
          <a (click)="scrollToSection('featuredArtists')" class="font-medium py-2 cursor-pointer">Artists</a>
          <a (click)="scrollToSection('featuredArtWorks')" class="font-medium py-2 cursor-pointer">Explore Art</a>
          <a (click)="scrollToSection('howItWorks')" class="font-medium py-2 cursor-pointer">How It Works</a>
          <a (click)="navigateToAbout()" class="font-medium py-2 cursor-pointer">About</a>
  
          <div class="flex gap-3 pt-4">
            <button class="flex-1 border py-2 rounded-md" (click)="openAuthModal('signin')">Sign In / Sign Up</button>
            <button (click)="navigateToSellArt()" class="flex-1 bg-primary text-primary-foreground py-2 rounded-md cursor-pointer">
              Sell Art
            </button>
          </div>
        </div>
      </div>
    </div>
  </nav>



  <!-- Auth Modal (Sign In / Sign Up) -->
  <div *ngIf="showAuthModal" class="login-modal-overlay" (click)="closeAuthModal()">
    <div class="login-modal-content" (click)="$event.stopPropagation()">
      <button class="login-modal-close" (click)="closeAuthModal()" aria-label="Close">Ã—</button>
      <div class="auth-tabs" style="display: flex; justify-content: center; gap: 2rem; margin-bottom: 1.5rem; border-bottom: 1px solid #eee; padding-bottom: 0.5rem;">
        <button
          [class.active]="authMode === 'signin'"
          (click)="setAuthMode('signin')"
          [ngStyle]="{
            background: 'none',
            border: 'none',
            fontSize: '1.1rem',
            fontWeight: 600,
            padding: '0.5rem 1.5rem',
            borderBottom: '2px solid',
            borderColor: authMode === 'signin' ? '#7c3aed' : 'transparent',
            color: authMode === 'signin' ? '#7c3aed' : '#333',
            cursor: 'pointer'
          }"
        >Sign In</button>
        <button
          [class.active]="authMode === 'signup'"
          (click)="setAuthMode('signup')"
          [ngStyle]="{
            background: 'none',
            border: 'none',
            fontSize: '1.1rem',
            fontWeight: 600,
            padding: '0.5rem 1.5rem',
            borderBottom: '2px solid',
            borderColor: authMode === 'signup' ? '#7c3aed' : 'transparent',
            color: authMode === 'signup' ? '#7c3aed' : '#333',
            cursor: 'pointer'
          }"
        >Sign Up</button>
      </div>
      <ng-container *ngIf="authMode === 'signin'">
        <div class="login-header">
          <h2 class="login-title">Welcome Back</h2>
          <p class="login-subtitle">Sign in to continue to CraftOrigin</p>
        </div>
        <div *ngIf="errorMessage" class="error-message">
          <span class="error-icon">âš ï¸</span>
          <span>{{ errorMessage }}</span>
        </div>
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
          <div class="form-group">
            <label for="email" class="form-label">Email Address</label>
            <input type="email" id="email" formControlName="email" class="form-input" [class.error]="email?.invalid && email?.touched" placeholder="Enter your email" autocomplete="email" />
            <div *ngIf="email?.invalid && email?.touched" class="field-error">
              <span *ngIf="email?.errors?.['required']">Email is required</span>
              <span *ngIf="email?.errors?.['email']">Please enter a valid email</span>
            </div>
          </div>
          <div class="form-group">
            <label for="password" class="form-label">Password</label>
            <div class="password-input-wrapper">
              <input [type]="showPassword ? 'text' : 'password'" id="password" formControlName="password" class="form-input" [class.error]="password?.invalid && password?.touched" placeholder="Enter your password" autocomplete="current-password" />
              <button type="button" class="password-toggle" (click)="togglePasswordVisibility()" aria-label="Toggle password visibility">{{ showPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}</button>
            </div>
            <div *ngIf="password?.invalid && password?.touched" class="field-error">
              <span *ngIf="password?.errors?.['required']">Password is required</span>
              <span *ngIf="password?.errors?.['minlength']">Password must be at least 6 characters</span>
            </div>
          </div>
          <div class="form-options">
            <a href="#" class="forgot-password-link">Forgot Password?</a>
          </div>
          <button type="submit" class="login-button" [disabled]="isLoading || loginForm.invalid">
            <span *ngIf="!isLoading">Sign In</span>
            <span *ngIf="isLoading" class="loading-spinner"><span class="spinner"></span>Signing in...</span>
          </button>
        </form>
        <div class="divider"><span>OR</span></div>
        <div class="social-login">
          <button type="button" class="social-button google-button"><span class="social-icon">ğŸ”µ</span>Continue with Google</button>
          <button type="button" class="social-button facebook-button"><span class="social-icon">ğŸ“˜</span>Continue with Facebook</button>
        </div>
        <div class="register-link">
          <p>Don't have an account? <a (click)="navigateToRegister()" class="register-link-text">Sign Up</a></p>
        </div>
      </ng-container>
      <ng-container *ngIf="authMode === 'signup'">
        <div class="login-header">
          <h2 class="login-title">Create Account</h2>
          <p class="login-subtitle">Join CraftOrigin today</p>
        </div>
        <div *ngIf="registerSuccess" class="success-message"><span class="success-icon">âœ“</span><span>{{ registerSuccess }}</span></div>
        <div *ngIf="registerError" class="error-message"><span class="error-icon">âš ï¸</span><span>{{ registerError }}</span></div>
        <form [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()" class="register-form">
          <div class="form-group">
            <label for="register-name" class="form-label">Full Name</label>
            <input type="text" id="register-name" formControlName="name" class="form-input" [class.error]="registerName?.invalid && registerName?.touched" placeholder="Enter your full name" autocomplete="name" />
            <div *ngIf="registerName?.invalid && registerName?.touched" class="field-error">
              <span *ngIf="registerName?.errors?.['required']">Name is required</span>
              <span *ngIf="registerName?.errors?.['minlength']">Name must be at least 2 characters</span>
            </div>
          </div>
          <div class="form-group">
            <label for="register-email" class="form-label">Email Address</label>
            <input type="email" id="register-email" formControlName="email" class="form-input" [class.error]="registerEmail?.invalid && registerEmail?.touched" placeholder="Enter your email" autocomplete="email" />
            <div *ngIf="registerEmail?.invalid && registerEmail?.touched" class="field-error">
              <span *ngIf="registerEmail?.errors?.['required']">Email is required</span>
              <span *ngIf="registerEmail?.errors?.['email']">Please enter a valid email</span>
            </div>
          </div>
          <div class="form-group">
            <label for="register-password" class="form-label">Password</label>
            <div class="password-input-wrapper">
              <input [type]="showRegisterPassword ? 'text' : 'password'" id="register-password" formControlName="password" class="form-input" [class.error]="registerPassword?.invalid && registerPassword?.touched" placeholder="Create a password" autocomplete="new-password" />
              <button type="button" class="password-toggle" (click)="toggleRegisterPasswordVisibility()" aria-label="Toggle password visibility">{{ showRegisterPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}</button>
            </div>
            <div *ngIf="registerPassword?.invalid && registerPassword?.touched" class="field-error">
              <span *ngIf="registerPassword?.errors?.['required']">Password is required</span>
              <span *ngIf="registerPassword?.errors?.['minlength']">Password must be at least 6 characters</span>
            </div>
          </div>
          <div class="form-group">
            <label for="register-confirm-password" class="form-label">Confirm Password</label>
            <div class="password-input-wrapper">
              <input [type]="showRegisterConfirmPassword ? 'text' : 'password'" id="register-confirm-password" formControlName="confirmPassword" class="form-input" [class.error]="(registerConfirmPassword?.invalid && registerConfirmPassword?.touched) || (registerForm.errors?.['passwordMismatch'] && registerConfirmPassword?.touched)" placeholder="Confirm your password" autocomplete="new-password" />
              <button type="button" class="password-toggle" (click)="toggleRegisterConfirmPasswordVisibility()" aria-label="Toggle confirm password visibility">{{ showRegisterConfirmPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}</button>
            </div>
            <div *ngIf="registerConfirmPassword?.touched" class="field-error">
              <span *ngIf="registerConfirmPassword?.errors?.['required']">Please confirm your password</span>
              <span *ngIf="registerForm.errors?.['passwordMismatch'] && !registerConfirmPassword?.errors?.['required']">Passwords do not match</span>
            </div>
          </div>
          <div class="terms-notice">
            <p>By signing up, you agree to our <a href="#" class="link">Terms of Service</a> and <a href="#" class="link">Privacy Policy</a></p>
          </div>
          <button type="submit" class="register-button" [disabled]="registerLoading || registerForm.invalid">
            <span *ngIf="!registerLoading">Create Account</span>
            <span *ngIf="registerLoading" class="loading-spinner"><span class="spinner"></span>Creating account...</span>
          </button>
        </form>
        <div class="divider"><span>OR</span></div>
        <div class="social-register">
          <button type="button" class="social-button google-button"><span class="social-icon">ğŸ”µ</span>Sign up with Google</button>
          <button type="button" class="social-button facebook-button"><span class="social-icon">ğŸ“˜</span>Sign up with Facebook</button>
        </div>
        <div class="register-link">
          <p>Already have an account? <a (click)="navigateToLogin()" class="register-link-text">Sign In</a></p>
        </div>
      </ng-container>
    </div>
  </div>
  