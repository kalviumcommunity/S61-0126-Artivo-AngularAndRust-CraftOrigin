<div class="verification-page">
  <h2 class="page-title">Artist verification requests</h2>
  <p class="page-desc">Review and approve or reject artist verification submissions.</p>
  <div *ngIf="loading" class="loading">Loading...</div>
  <div *ngIf="!loading" class="requests-list">
    <div *ngFor="let req of requests" class="request-card" [class.pending]="req.status === 'PENDING'">
      <div class="request-header">
        <span class="artist-name">{{ req.artist_name || 'Artist ' + req.artist_id }}</span>
        <span class="status-badge" [class]="'status-' + req.status">{{ req.status }}</span>
      </div>
      <div class="request-meta">
        <span>Submitted {{ req.submitted_at | date:'medium' }}</span>
        <span *ngIf="req.reviewed_at">Reviewed {{ req.reviewed_at | date:'medium' }}</span>
      </div>
      <div *ngIf="req.documents_url?.length" class="documents">
        <strong>Documents:</strong>
        <ul>
          <li *ngFor="let url of req.documents_url">{{ url }}</li>
        </ul>
      </div>
      <div *ngIf="req.review_notes" class="review-notes">
        <strong>Review notes:</strong> {{ req.review_notes }}
      </div>
      <div *ngIf="req.status === 'PENDING'" class="actions">
        <input
          type="text"
          placeholder="Review notes (optional)"
          [(ngModel)]="reviewNotes[req.id]"
          class="notes-input"
        />
        <button
          type="button"
          class="btn-approve"
          [disabled]="processingId === req.id"
          (click)="approve(req)"
        >
          {{ processingId === req.id ? 'Processingâ€¦' : 'Approve' }}
        </button>
        <button
          type="button"
          class="btn-reject"
          [disabled]="processingId === req.id"
          (click)="reject(req)"
        >
          Reject
        </button>
      </div>
    </div>
    <div *ngIf="!loading && requests.length === 0" class="empty">No verification requests.</div>
  </div>
</div>
